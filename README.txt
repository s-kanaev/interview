// UTF-8, 0a

        Про компиляцию

Для сборки используется cmake.
Достоверно могу сказать, что компиляция проходит успешно при выпуске набора gcc 4.9.2.
В системе должны присутствовать библиотеки:
    Boost:
        boost_system-mt boost_thread-mt
    cppnetlib-0.11.0-final
    libpqxx

Компиляция выполняется так:
$ mkdir build
$ cd build
$ cmake -DCMAKE_C_COMPILER=`which gcc` -DCMAKE_CXX_COMPILER=`which g++` ..
$ make

После этого будет скомпилирован следующий набор:
    libserver.a                     статическая библиотека сервера
    server.bin                      исполняемый файл сервера
    client.bin                      исполняемый файл небольшого клиента

На вход сервер принимает 8 аргументов:
    сервер БД
    порт сервера БД
    логин пользователя БД
    пароль этого пользователя
    название БД
    название таблицы
    на какой адрес прослушивать соединения
    на какой порт прослушивать соединения
Пример:
    ./server.bin 127.0.0.1 5432 db_user funny-password db_name test_table 127.0.0.1 1234

Клиент на вход принимает 2 параметра:
    к какому серверу подключаться
    на какой порт подключаться

Клиент далее запросит что ему делать:
    get, post, empty-post, delete - соответствующие запросы
        (empty-post - в тело запроса состоит из одного пробела)
    auto-test - однопоточный тест
    auto-test-mt - многопоточный тест (возможны fail'ы из-за get запросов уже удаленных записей)

Также прилагаю два sql-скрипта:
    create-table-for-test.sql   - создает таблицу test_table и тестовые записи в ней
    clear-table-after-test.sql  - удаляет таблицу test_table

------------------------------------------------------------------------------------

            Про код

Сервер многопоточный. По одному потоку на запрос. Асинхронно. База данных - синхронная.
Для доступа общения с БД (непосредственной отправки ей запросов) используется один поток из
общего с сервером пула. Всего - 10 потоков. В эту десятку входят и потоки, запускаемые для
отправки ответа серверу. Количество потоков в пуле регулируется define'ом в файле common.cpp.
Define называется THREADS_COUNT. Каждый поток запроса ставит в очередь запрос к БД и свое
подключение (что бы было известно кому ответ посылать).

Путь запроса:
    Клиент ----> Сервер (формирование запроса к обертке над БД) ---->
                    ----> Обертка на БД ----> БД

Путь ответа
    БД ----> Обертка над БД (формирование ответа для сервера) ---->
                ----> Сервер (формирование ответа для клиента) ----> Клиент

В деталях:
    класс - Database - обертка над базой данных. Синглтон. Выполняет подключение/отключение от БД,
                       отправку запросов к БД (в отдельном потоке), постановку запросов от сервера
                       в очередь, заполнение структуры ответа.
            DBReply  - структура ответа от Database. содержит вид ответа (200/400/404) и набор
                       записей (для случая ответа 200).
            Cache    - шаблон кеша. Позволяет его валидировать/инвалидировать, заполнить, получить
                       все записи, найти запись по ключу.
            AsyncRequestHandler
                     - обработчик запросов от клиента.

Также в файле Server.cpp помимо обработчика запросов от клиента имеется функция ServerSendReply для
посылки ответа клиенту и RunServer для запуска сервера.
