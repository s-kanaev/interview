// UTF-8, 0a

    Каждый драйвер имеет свой собственный именованный UNIX-сокет.
    UNIX-сокет --- ориентированный на соединение (потоковый).
    Драйвер является сервером. Клиент подключается к драйверу. У клиента
    сокет необязательно именованый.

    Для отслеживания появления новых драйверов можно задействовать механизм
    inotify. В таком случае все сокеты должны создаваться только в заданном
    наборе директорий (для простоты --- в одной /tmp/drivers). Отслеживание будет
    вестись по директории. Отслеживаться будет только появление нового драйвера.
    Отключение драйвера сигнализируется концом файла по файловому дескриптору
    установленного подключения.

    Название сокета драйвера составное:
        НАЗВАНИЕ-ДРАЙВЕРА.НОМЕР-СЛОТА.drv

    По сокетам передаются пакеты вида:

    Структура пакета:
    сдвиг   длина   значение
      0       1     сигнатура (тип пакета)
      1      ...    тело пакета (структура зависит от типа)

    Сведения о драйвере (драйвер -> клиент):
    сдвиг   длина   значение
      1       1     количество команд драйвера
      2      ...    описание команд

    Описаие команд драйвера выглядит так:
    длина           значение
      6             название команды, '\0' в конце --- игнорируется
      1             максимальное количество параметров
     255            краткое описание

    Команды нумеруются в порядке передачи клиенту.

    Команда драйверу (клиент -> драйвер):
    сдвиг   длина   значение
      1       1     номер команды
      2       1     количество параметров
      3      ...    описание параметров

    Описание параметра команды:
    длина           значение
      1             длина параметра
     ...            параметр соответствующей длины

    Ответ на команду (драйвер -> клиент):
    сдвиг   длина   значение
      1       4     длина ответа
      5      ...    ответ соответствующей длины

    Ответ клиенту от драйвера --- обязателен. В том числе --- пустой.

    Описание протокола содержится в include/protocol.h

    Драйвер разбит на две части --- ядро и нагрузка (начинка, payload).
    Ядро драйвера универсальное --- оно коммуницирует с сервером UNIX-сокетов,
    реализует протокол. Нагрузка драйвера описывает допутимые методы (команды),
    их арность и краткое описание (согласно протоколу).

    Для упрощения задачи индентификации драйвера в шелле название сокета
    драйвера имеет вид: название-драйвера.номер-слота.drv

    Шелл содержит в себе набор клиентских UNIX-сокетов. Производное от названия
    сокета служит ключем для поиска объекта клиента. Проиводное получается
    выбрасыванием точек и суффикса drv из названия файла UNIX-сокета.

    Шелл имеет три внутренние команды:
    help --- вывод справочного сообщения.
    list --- вывод перечня подключенных драйверов.
    cmd --- передача команды драйверу.

    В качестве контейнера клиентов шелл использует АВЛ-дерево.
    Ключ поиска по дереву --- восьми байтовая хеш-сума с хеширующей функцией
    Пирсона (https://en.wikipedia.org/wiki/Pearson_hashing).

    Клиент и сервер UNIX-сокетов, шелл, драйвер в качестве рабочего цикла
    используют io_service из библиотеки (lib).

    Клиент и сервер UNIX-сокетов при инициализации принимают на вход название
    сокета. Клиент может не иметь названия (соответствующее поле = NULL).
    Серверу название сокета --- обязательно.
